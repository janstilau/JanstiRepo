# 汇编基础知识

## 8086汇编 (16位CPU)

机器语言 0和1组成. 直接运行到机器上, 不同架构的计算机机器语言不一样. 汇编语言也要编译成机器语言才能运行到不同的机器上.
汇编语言 assembly 用符号代替了机器语言 mov ax, bx 将 bx 的内容放到 ax 之中. 高级语言经过编译成为汇编语言. 汇编语言和机器语言11对应. 不区分大小写. 可以直接操作内容和 cpu.
高级语言 对于汇编语言的封装. 高级语言一条简单地指令, 可能对应好几条汇编语言, 并且, 不同的高级语言指令, 可能成为相同的汇编指令. 所以, 不可逆.
Xcode 的 debug 下面 debug workflow 可以在断点调试的时候, 看到对应的汇编代码.

## 学习汇编的理由

更好地理解代码. 在平时写代码的时候, 更好地写出高质量的代码. 更好地理解计算机系统.

## 代码的本质

sizeof 这并不是一个函数调用, 编译器一看到 sizeof, 就将 sizeof(int) 变换成为4 或者 8. 在运行的时候, 这就是一个写好的数字.

## 种类

8086 入门点
win32
win64
AT&T mac, iOS 模拟器
ARM 嵌入式, iOS 设备

## 内存分析

最为关键的, 就是了解 cpu 和内存, 绝大多数的指令, 都是操作这两个东西

### 总线

CPU 芯片上有许多管脚, 这些和总线相连, 而总线和外部器件进行交互.

地址, 控制, 数据总线.

地址总线用来寻址, 控制总线用来传递 CPU 命令, 数据总线用来CPU 和内存进行交互.

地址总线, 决定了 CPU 的寻址能力, 例如 win32 架构, 就是4GB, 就是2的32次方
数据总线, 决定了 CPU 单词数据传输量, 也就是数据的传递速度
控制总线, 决定了 CPU 对于其他器件的控制能力.

### 内存

内存大小空间地址, 是受到 CPU 地址总线限制的.

内存中, 有一部分是存放硬件信息和操作系统信息的, 不可以被程序修改.


8086 CPU 是16位的, 而地址总线是 20 位的. 所以, 它内部用两个16位地址, 合成出一个20位的物理地址. 段地址, 偏移地址.

### 地址合成

段地址: 1200H
偏移地址: 1000H
段地址 * 10H + 偏移地址 = 1200H * 10H + 1000H= 12000H + 10000H = 13000H












