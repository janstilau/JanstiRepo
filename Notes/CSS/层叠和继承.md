# 层叠和继承

一个元素同一个属性, 可能会被多个选择器同时设置, 那么这个属性最终会选中哪个选择器里面的属性, 取决于是哪个因素:

1. 重要性
1. 专用性
1. 源代码次序

在讨论着三个因素之前, 想一下为什么会出现这种冲突.

构建页面也是一套很复杂的系统. 当我们用编程语言构建页面的时候

* 纯代码

会有一个 init() 函数, 里面是构建页面的代码. 如果页面复杂, 还会有 initHeader, initTableView, initFooter. 如果一个子视图过于复杂又多次被使用, 会抽取出一个类来, 然后在 init 中是为父视图添加这个类的实例对象, 在添加重复的视图的时候, 我们可以有循环语句. 无论是循环, 还是抽取视图类, 都要设置属性值, 而这个设置属性值的过程, 只有一次. 即便如此, initView 的代码, 也会让这个实现文件变得异常庞大. 因为我们是为每一个视图对象, 设置属性. 因为编程语言循环机制, 和类机制, 减少了大量的代码.

* 界面拖动

在有图形界面工具构建视图之后, 构建界面就变成了拖拽然后设置属性的过程. 一般来说, 对于重复的视图, 我们一般也是先设计出一个 view 来, 然后设置好所有的属性, 最后复制排放各个 view. 这个复制的过程, 其实就是循环里面的内容. 而对于特别复杂的 view, 其实还是要走抽取视图类的路.

而当我们用 html 和 css 做界面的时候, 首先, 不可能为每一个元素, 设置他们的属性值, 如果真要这样, 首先要为每个元素设置 id, 这样才能抽取到每一个特定的元素. 然后, 要为每一个元素设置属性. 注意, 在这个过程里面没有抽取类的措施可以用, 也没有循环可以用.

所以 css 里面, 设置属性是用一种类的方式. 相当于每个类都有一个 属性模板, 当生产一个元素的对象的时候, 将对象的各个属性, 根据这个模板来进行复制. 这个类, 现有两种, 一种是元素, 一种是 class. 元素是 html 中内置的类, class 是页面编辑人员编写的属性集合. 一个元素上面属性, 根据它所在的类的信息, 被统一赋值.

但是这样的设计是有问题的, 那就是确实需要有对象, 需要被特殊的设计. 所以, css 里面有着属性冲突的时候, 计算权重的算法. 编写人员, 在编写的时候, 确实要进行特殊化设计的元素, 要用权重大的选择器写法, 确保这个选择器里面的属性, 是最终的表现属性.

## 重要性

!important 基本不用

## 专用性

元素                        个位
类                          十位
id                         百位
在元素 style 里面写的属性     千位

## 源代码次序

当专用性权值相同的时候, 后面的覆盖前面的.

## 继承

应用于某个元素的一些属性值将由该元素的子元素继承，而有些则不会.

例如，对 font-family 和 color 进行继承是有意义的，因为这使得您可以很容易地设置一个站点范围的基本字体，方法是应用一个字体到 <html> 元素；然后，您可以在需要的地方覆盖单个元素的字体。如果要在每个元素上分别设置基本字体，那就太麻烦了。
再如，让 margin，padding，border 和 background-image 不被继承是有意义的。想象一下，如果您将这些属性设置在一个容器元素上，并将它们继承到每个子元素，然后不得不将它们全部放在每个单独的元素上，那么将会出现的样式/布局混乱。

哪些属性默认被继承哪些不被继承大部分符合常识。