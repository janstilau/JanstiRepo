# 抽象工厂

一系列相互依赖的对象.

提供一个接口, 让这个接口负责创建一系列 相关或者相互依赖的对象.

其实, 工厂方法首先要解决的问题就是 new 具体类 所带来的耦合, 所以工厂方法那一套, 还是在这里使用的.

不过抽象工厂的关注点, 主要是系列的问题.

在抽象工厂使用的地方, 稳定的是, 生产某一个某一个和另外某一个产品, 以及这些产品的生产是配套的. 工厂方法解决了生产产品的问题, 抽象工厂解决的是把相应的产品聚合到一起的过程.

抽象工厂的重构逻辑应该是:
从原来的 new A, new B, new C =>
AFactory.createA(), BFactory.createB, CFactory.createC
原来的 New 变成 ABC 的工厂create, 替换工厂就能替换 A, B, C 的产品
然后, 由于 ABC, 三项产品是配套的, 如果 AFactory 生成 A1, BFactory 生产 B2, 那就有问题了.
于是, 将 A, B, C Factory 整个成为一个系列工厂, 不给工厂单独赋值的机会, 而是赋值一个系列工厂, 一个系列工厂里面生产的产品是固定组合在一起的. 这种固定, 是不变的部分, 所以应该在代码里面写死.