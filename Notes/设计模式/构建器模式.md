# 构建起模式

c++ 里面, 在构造函数里面调用虚函数, 是不会去调用子类的版本的. 因为在父类的构造函数调用的时候, 虚函数表指针还是父类的虚函数表, 这个时候调用的时候寻路过程, 还是在父类的表里面. 所以, 虽然不能调用子类的, 但是如果就是想要调用自己的虚函数, 还是可以调用的.

所以, 如果初始化要依赖于虚函数的话, 还是写一个 init 函数, 在对象构造完之后, 明确的调用一下才行.

## 例子

视频里面的例子, 是有一个 init 函数, 这是一个 template method, 里面调用了很多的 create子控件 的方法, 这些方法是一些虚函数, 然后子类就可以重写这些方法来完成自己的初始化工作. 这样看, 这个模式和 template method 一样了, 只不过专注于初始化的过程.

这个模式很少用, 或者平时用的也很多, 但是没注意.