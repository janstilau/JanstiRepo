# 图片格式

## 数据存储

在计算机上存储文本很容易。我们以字母或字符作为一个基本单元，建立了一个从数字到字符编码的简单映射来进行编码。文本是线性且一维的。撇开文字方向的问题，我们只需要知道序列中的下一个元素是什么就可以有效的存储文字。

图像则更复杂。首先，它们是二维的，所以我们需要考虑如何表示图像中某个特定位置的值。然后，我们需要考虑具体的值应该如何量化。另外，根据我们捕捉图像的途径，也会有不同的方式来编码图形数据。(这里指的是位图和矢量图)

## 矢量图形

不同于位图把值存在阵列中，矢量格式存储的是绘图图像的指令。在处理一些可以被归纳为几何形状的简单图像时，这样做显然更有效率；但面对照片数据时矢量储存就会显得乏力了。

矢量格式的一大优点是缩放。矢量格式的图像其实是一组绘图指令，这些指令通常是独立于尺寸的。

如果你想扩大一个圆形，只需在绘制前扩大它的半径就可以了。位图则没这么容易。最起码，如果扩大的比例不是二的倍数，就会涉及到重绘图像，并且各个元素都只是简单地增加尺寸，成为一个色块。

## 位图

大部分图像都是以位图方式处理的

所有的格式都以一系列连续的行作为单元，而每一行则水平地按顺序存储了每个像素。 大多数格式会按照行的顺序进行存储, 其优点是当图像被部分加载时，可以更好的显示预览图像。

如果要添加更多的颜色，有两个基本的选择：使用一个查找表，或直接用真实的颜色值。

GIF 图像有一个颜色表 (或色彩面板)，可以存储最多 256 种颜色。存储在位图中的值是该查询列表中的索引值，对应着其相应的颜色。所以，GIF 文件仅限于 256 色。对于简单的线条图或纯色图，这是一种不错的解决方法。但对于照片来说，就会显示的不够真实，照片需要更精细的颜色深度。

PNG 文件，这种格式可以使用一个预置的色板或者独立的通道，它们都支持可变的颜色深度。在一个通道中，每个像素的颜色分量 (红，绿，蓝，即 RGB，有时添加透明度值，即RGBA) 是直接指定的。

GIF 和 PNG 对于具有大面积相同颜色的图像是最好的选择，因为它们使用的 (主要是基于游程长度编码的) 压缩算法可以减少存储需求。这种压缩是无损的，这意味着图像质量不会被压缩过程影响。

一个有损压缩图像格式的例子是 JPEG。创建 JPEG 图像时，通常会指定一个与图像质量相关的压缩比值参数，压缩程度过高会导致图像质量恶化。JPEG 不适用于对比鲜明的图像 (如线条图)，其压缩方式对类似区域的图像质量损害会相对严重。如果某张截图中包含了文本，且保存为 JPEG 格式，就可以清楚地看到：生成的图像中字符周围会出现杂散的像素点。在大部分照片中不存在这个问题，所以照片主要使用 JPEG 格式。

## 元数据

用于存储图像信息的标准格式是 Exif(可交换图像文件格式)。在照片中，通常会捕获照相的日期和时间，快门速度和光圈，如果设备支持，还包括 GPS 坐标。

由于供应商定义的扩展约定 (这不是一个通用的标准) 错综复杂，数据经常被丢失或损坏，尤其是当图像经过许多不同的应用程序 (如图像编辑器等) 处理过后。一般来说，当图像被上传到网络服务器上时，这些信息也会被抹掉